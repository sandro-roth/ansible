- name: corsair | install packages
  tags: corsair
  apt:
    name: gdebi-core
    state: present

- name: corsair | download OpenRGB .deb package
  tags: corsair
  get_url:
    url: https://openrgb.org/releases/release_0.9/OpenRGB_0.9_amd64.deb
    dest: /tmp/OpenRGB_0.9_amd64.deb

- name: corsair | install OpenRGB deb package
  tags: corsair
  apt:
    deb: /tmp/OpenRGB_0.9_amd64.deb

- name: corsair | deploy RGB color script for Commander PRO
  tags: corsair
  template:
    src: set_rgb_color.j2
    dest: /usr/local/bin/set_rgb_color.sh
    owner: root
    group: root
    mode: 0755
  vars:
    device_id: "{{ device_id }}"
    color: "{{ rgb_color }}"
